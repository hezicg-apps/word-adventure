<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>English Learning Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="icon" type="image/png" href="favicon.png?v=3">
    <meta name="theme-color" content="#1e293b">

    <style>
        body {
            font-family: 'Varela Round', sans-serif;
            margin: 0;
            background-color: #f0f9ff;
            transition: background-color 0.4s ease;
        }

        body.dark-mode {
            background-color: #0f172a !important;
            color: #f8fafc !important;
        }

        /* ××¡×š ×¤×ª×™×—×” - ×××•×¨×›×– ×œ×—×œ×•×˜×™×Ÿ */
        #splash-screen {
            position: fixed;
            inset: 0;
            background-color: #1e293b;
            display: flex;
            flex-direction: column;
            justify-content: center; /* ××¨×›×•×– ×× ×›×™ */
            align-items: center;    /* ××¨×›×•×– ××•×¤×§×™ */
            z-index: 10000;
            transition: opacity 0.5s ease-out;
        }

        .splash-branding {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .splash-logo {
            width: 80px; /* ×’×•×“×œ ×‘×•×œ×˜ ×œ××¡×š ×¤×ª×™×—×” */
            height: 80px;
            margin-bottom: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .splash-title {
            color: #fbbf24;
            font-size: 2.5rem;
            font-weight: 900;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        /* 3 ×¢×™×’×•×œ×™× ×–×•×”×¨×™× ×œ×¡×™×¨×•×’×™×Ÿ */
        .loading-container {
            margin-top: 2rem;
            display: flex;
            gap: 15px;
        }

        .loader-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background-color: #3b82f6;
            opacity: 0.2;
            box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
            animation: alternate-glow 1.2s infinite ease-in-out;
        }

        .loader-dot:nth-child(1) { animation-delay: 0s; background-color: #a855f7; }
        .loader-dot:nth-child(2) { animation-delay: 0.4s; background-color: #3b82f6; }
        .loader-dot:nth-child(3) { animation-delay: 0.8s; background-color: #a855f7; }

        @keyframes alternate-glow {
            0%, 100% { 
                opacity: 0.2; 
                transform: scale(1);
                filter: blur(0px);
            }
            50% { 
                opacity: 1; 
                transform: scale(1.3);
                filter: blur(1px);
                box-shadow: 0 0 15px currentColor;
            }
        }

        #main-content {
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease-in;
        }
    </style>
</head>
<body class="bg-blue-50 text-gray-800">

    <!-- ××¡×š ×¤×ª×™×—×” -->
    <div id="splash-screen">
        <div class="splash-branding">
            <img src="favicon.png?v=3" alt="Logo" class="splash-logo">
            <h1 class="splash-title">Word Adventure</h1>
            
            <!-- ×©×œ×•×©×ª ×”×¢×™×’×•×œ×™× ××ª×—×ª ×œ×œ×•×’×• ×•×”×›×•×ª×¨×ª -->
            <div class="loading-container">
                <div class="loader-dot"></div>
                <div class="loader-dot"></div>
                <div class="loader-dot"></div>
            </div>
        </div>
    </div>

    <!-- ×”×ª×•×›×Ÿ ×”×¨××©×™ ×©×œ ×”××¤×œ×™×§×¦×™×” -->
    <div id="main-content">
        <header class="flex flex-col items-center px-4 py-6 w-full max-w-2xl mx-auto">
            <div class="w-full flex justify-between items-center mb-6">
                <button id="toggleNight" class="text-3xl p-2 focus:outline-none transition-transform active:scale-90">â˜€ï¸</button>
                <div class="flex items-center gap-3">
                    <h1 class="text-2xl font-black text-yellow-500">Word Adventure</h1>
                    <img src="favicon.png?v=3" alt="Logo" class="h-10 w-10 rounded-lg">
                </div>
            </div>
        </header>

        <main id="app" class="container mx-auto px-4 max-w-2xl">
            <!-- ×›××Ÿ × ×›× ×¡×™× ×”××©×—×§×™× ×•×”×©×œ×‘×™× -->
        </main>
    </div>

    <script>
        // ×œ×•×’×™×§×ª ×˜×¢×™× ×”
        window.addEventListener('load', () => {
            const splash = document.getElementById('splash-screen');
            const content = document.getElementById('main-content');

            // ×”×©×”×™×™×” ×§×œ×” ×›×“×™ ×œ×”×¨××•×ª ××ª ×”×× ×™××¦×™×” ×”×–×•×”×¨×ª
            setTimeout(() => {
                splash.style.opacity = '0';
                content.style.display = 'block';
                
                setTimeout(() => {
                    content.style.opacity = '1';
                    splash.remove(); // ×”×¡×¨×” ××”-DOM ×œ×©×™×¤×•×¨ ×‘×™×¦×•×¢×™×
                }, 500);
            }, 2500);
        });

        // ×œ×•×’×™×§×ª ××¦×‘ ×œ×™×œ×”
        const toggleBtn = document.getElementById('toggleNight');
        const updateTheme = (isDark) => {
            document.body.classList.toggle('dark-mode', isDark);
            toggleBtn.textContent = isDark ? 'ğŸŒ™' : 'â˜€ï¸';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        };

        toggleBtn.addEventListener('click', () => updateTheme(!document.body.classList.contains('dark-mode')));
        if (localStorage.getItem('theme') === 'dark') updateTheme(true);
    </script>
</body>
</html>
