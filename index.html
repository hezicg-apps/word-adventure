<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Word Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="css/style.css">

    <!-- ×™×™×‘×•× ×’×•×¤× ×™× ××™×›×•×ª×™×™× -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Varela+Round&display=swap" rel="stylesheet">

    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="icon" type="image/png" href="favicon.png?v=3">
    <meta name="theme-color" content="#1e293b">

    <style>
        /* ×’×•×¤× ×™× */
        .brand-font { font-family: 'Fredoka', sans-serif; letter-spacing: -0.01em; }
        .kids-font { font-family: 'Varela Round', sans-serif; }

        /* Splash Screen - Large Logo Focus */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #1e293b; display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 9999;
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.8s;
        }

        #splash-screen.hidden { opacity: 0; visibility: hidden; }

        .splash-logo {
            width: 85vw; 
            max-width: 420px; /* ×’×•×“×œ ×œ×•×’×• ××•×’×“×œ ×œ×¤×™ ×‘×§×©×ª×š */
            height: auto;
            margin-bottom: 2.5rem;
            animation: softPulse 3.5s infinite ease-in-out;
        }

        @keyframes softPulse {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 10px rgba(56, 189, 248, 0.1)); }
            50% { transform: scale(1.06); filter: drop-shadow(0 0 25px rgba(56, 189, 248, 0.3)); }
        }

        /* ×¢×™×’×•×œ×™ ×˜×¢×™× ×” */
        .glow-dot { width: 18px; height: 18px; border-radius: 50%; background-color: #334155; }
        @keyframes blink { 0%, 100% { background-color: #334155; } 50% { background-color: #38bdf8; box-shadow: 0 0 15px #38bdf8; } }
        .dot-1 { animation: blink 1.5s infinite 0s; }
        .dot-2 { animation: blink 1.5s infinite 0.3s; }
        .dot-3 { animation: blink 1.5s infinite 0.6s; }

        /* Header Layout */
        .game-header {
            width: 100%;
            max-width: 800px; 
            margin: 0 auto;
            padding: 2.5rem 1.5rem 1rem; 
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 1rem;
        }

        .header-title {
            font-size: 2.5rem; 
            font-weight: 700;
            color: #eab308; 
            text-align: center;
            white-space: nowrap;
            text-shadow: 1px 2px 4px rgba(0,0,0,0.1);
            text-transform: capitalize; 
        }

        /* ×›×¤×ª×•×¨ ×”×§×¨××” ×“×™× ××™ */
        .audio-play-btn {
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            -webkit-tap-highlight-color: transparent;
        }
        .is-speaking {
            background-color: #fbbf24 !important; /* ×¦×”×•×‘ ×‘×–××Ÿ ×“×™×‘×•×¨ */
            animation: pulse-audio 0.6s infinite alternate;
        }
        @keyframes pulse-audio {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        /* ×‘×™×˜×•×œ ×•×™×–×•××œ×™ ×©×œ ×× ×¢×•×œ×™× (×”×œ×•×’×™×§×” × ×©××¨×ª ×‘-JS ××š ×”×¢×™×¦×•×‘ × ×§×™) */
        .game-card.locked {
            opacity: 0.7;
            filter: grayscale(0.5);
            cursor: not-allowed;
        }

        #toggleNight { background: transparent; border: none; outline: none; font-size: 2.5rem; }

        @media (max-width: 480px) {
            .game-header { padding: 1.5rem 1rem; gap: 0.5rem; }
            .header-title { font-size: 1.8rem; }
        }
    </style>
</head>
<body class="bg-blue-50 text-gray-800 min-h-screen kids-font">
    
    <!-- Splash Screen -->
    <div id="splash-screen">
        <img src="favicon.png?v=3" alt="Logo" class="splash-logo">
        <h1 class="text-4xl font-bold text-white mb-8 brand-font">Word Adventure</h1>
        <div class="flex gap-6">
            <div class="glow-dot dot-1"></div>
            <div class="glow-dot dot-2"></div>
            <div class="glow-dot dot-3"></div>
        </div>
    </div>

    <!-- Header Area -->
    <header class="game-header">
        <div class="theme-toggle-wrapper flex justify-start">
            <button id="toggleNight" class="cursor-pointer hover:scale-110 active:scale-95 transition-transform">â˜€ï¸</button>
        </div>

        <h1 class="header-title brand-font">Word Adventure</h1>

        <div class="logo-wrapper flex justify-end">
            <img src="favicon.png?v=3" alt="Logo" class="h-12 w-auto object-contain">
        </div>
    </header>

    <!-- Main Content Container -->
    <!-- ×›××Ÿ ×”-main.js ××–×¨×™×§ ××ª ×›×œ ×”×ª×•×›×Ÿ (×”× ×—×™×•×ª, ×”×–× ×ª ××™×œ×™×, ×›×¨×˜×™×¡ ×”××™×œ×” ×•×”××©×—×§×™×) -->
    <div id="app" class="container mx-auto px-4 pb-10 max-w-2xl flex flex-col items-center">
        <!-- Loader during JS initialization -->
        <div class="mt-20 text-blue-400 animate-pulse">×˜×•×¢×Ÿ ×”×¨×¤×ª×§×”...</div>
    </div>

    <script src="js/main.js"></script>
    <script>
        // Splash Screen Logic
        window.addEventListener('load', () => {
            const splash = document.getElementById('splash-screen');
            setTimeout(() => {
                if(splash) splash.classList.add('hidden');
            }, 3000); 
        });

        // Night Mode Toggle
        const toggleBtn = document.getElementById('toggleNight');
        if (toggleBtn) {
            toggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('night-mode');
                const isNight = document.body.classList.contains('night-mode');
                toggleBtn.innerText = isNight ? 'ğŸŒ™' : 'â˜€ï¸';
            });
        }

        // Global Event Listener for Audio Button feedback
        // ×”-main.js ××©×ª××© ×‘-ID 'speak-button' ××• ×“×•××”, ×× ×—× ×• ×××–×™× ×™× ×œ×©×™× ×•×™×™ ×¡×˜×˜×•×¡
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.audio-play-btn');
            if (btn) {
                btn.classList.add('is-speaking');
                // ×”×¡×¨×ª ×”××—×œ×§ ××—×¨×™ ×–××Ÿ ×”×”×§×¨××” ×”××©×•×¢×¨ (××• ×¡× ×›×¨×•×Ÿ ×¢× ×”-Speech API ×× ×§×™×™×)
                setTimeout(() => btn.classList.remove('is-speaking'), 1500);
            }
        });
    </script>
</body>
</html>
